<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/patternfly/3.24.0/css/patternfly.min.css">

<div class="row form-container f-outline m-tb r-position">
    <div class="v-oGraphic visible-md visible-lg">
        <button type="button" class="r-position" (click)="open()">
            <span class="icon-play a-position">&nbsp;</span>
        </button>
    </div>
  <section class="col-xs-12 col-sm-12 col-md-8 col-lg-8 mt-12">
      <p class="s-text">You are almost done! Please help us and the community to know you better.</p>
      <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="mt-16">
          <div class="form-inline f-step">
              <div class="form-group r-position">
                  <div class="circle">
                      <img class="profile-pic" [src]="url ? url : relativeUrl">
                  </div>
                  <div class="p-image">
                  <i class="v-camera upload-button a-position" (click)="fileInput.click()"></i>
                  <input class="file-upload" #fileInput type="file" (change)="onSelectFile($event.target.files[0])" accept="image/*"/>
                  </div>
              </div>
              <div class="form-group form-btext pl-10">
                  <input tabindex="1" id="org" name="name" class="form-control" formControlName="userFirstName" type="text" autocomplete="off" autofocus>
              </div>
          </div>
          <div class="form-inline multiple m-tb">
              <div class="form-group">
                  <label for="org" class="control-label">Organisation <span class="text-warning">*</span></label>   
                  <input tabindex="1" id="org" class="form-control" formControlName="userOrganisation" type="text" autocomplete="off" autofocus>
              </div>
              <div class="form-group">
                  <label for="ctry" class="control-label">Country <span class="text-warning">*</span></label>
                  <select  tabindex="1" class="form-control" id="ctry" placeholder="" formControlName="userCountry">
                      <option disabled>Select a country</option>
                      <option *ngFor="let country of countryList" [value]="country">{{country}}</option>
                    </select>
              </div>
              <div class="form-group">
                  <label for="role" class="control-label">Current Role <span class="text-warning">*</span></label>
                  <input  tabindex="1" id="role" class="form-control" name="role" placeholder="" formControlName="userRole" type="text" autocomplete="off">
              </div>
          </div>
          <div class="form-group">
              <label for="domain" class="control-label">
                  Domain / Area of work <span class="text-warning">*</span>
                  <span class="help-block m-0 xs-text">(use comma to add upto 5 entries)</span>
              </label>
              <mat-form-field tabindex="1" class="chips-container" appearance="fill">
                <mat-chip-list #chipList aria-label="Domain selection">
                  <mat-chip *ngFor="let domain of domains" (removed)="remove(domain, domains)" class="chip-value">
                    <span >{{domain}}</span>
                      <span class="icon-close" matChipRemove></span>
                  </mat-chip>
                  <input autocomplete="off"
                         [matChipInputFor]="chipList"
                         [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                         [matChipInputAddOnBlur]="addOnBlur"
                         (matChipInputTokenEnd)="add($event, domains)">
                </mat-chip-list>
              </mat-form-field>
          </div>
          <div class="form-group">
              <label for="area" class="control-label">
                  Areas of expertise<span class="text-warning">*</span>
                  <span class="help-block m-0 xs-text">(use comma to add upto 5 entries)</span>
              </label>
              <mat-form-field tabindex="1" class="chips-container" appearance="fill">
                <mat-chip-list #chipListExpertise aria-label="Expertise selection">
                  <mat-chip *ngFor="let expertise of expertises" (removed)="removeExpertise(expertise, expertises)" class="chip-value">
                    <span >{{expertise}}</span>
                      <span class="icon-close" matChipRemove></span>
                  </mat-chip>
                  <input autocomplete="off"
                         [matChipInputFor]="chipListExpertise"
                         [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                         [matChipInputAddOnBlur]="addOnBlur"
                         (matChipInputTokenEnd)="addExpertise($event, expertises)">
                </mat-chip-list>
              </mat-form-field>
          </div>
          <div class="form-group">
              <label for="profile" class="control-label">
                  Profile Link
                  <span class="help-block m-0 xs-text">(Ex. LinkedIn, Organization Profile, etc.,)</span>
              </label>   
              <input tabindex="1" id="profile" class="form-control-profile" formControlName="profileLink" name="profile" placeholder="https://www.linkedIn.com/" type="text" autocomplete="off">
              <span class="v-diamond a-position visible-md visible-lg">&nbsp;</span>
            </div>
            
            <div class="form-group subscribe-check">
                <mat-checkbox class="width-full-wrapped" i18n class="display-block text-left" (click)= "subscribed()" [checked]="isSubscribed">
                    <span class="font-size-small subscribe-text">Subscribe to communications from Space | Societal Platform team</span>
                </mat-checkbox>
            </div>
          
          <div class="form-group btn-group center">
              <input tabindex="1" class="btn btn-primary btn-lg" name="next" id="nextTC" type="submit" value="Finish" [disabled]="profileForm.invalid">
              <span class="btn btn-primary" id="custom-back">
                <span tabindex="1" class="a-position">Back</span>
                <ws-widget-btn-page-back [widgetData]="{ url: 'back' }"></ws-widget-btn-page-back>
              </span>
          </div>
      </form>

  </section>
  
  
  
</div>

<!-- Video Modal -->
<!-- <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
          <div class="modal-body">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <iframe width="860" height="315" src="https://www.youtube.com/embed/W86-mjWXQaw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
               <div class="intro-video">
                <ng-container [wsResolverWidget]="widgetResolverData"></ng-container>
              </div> 
          </div>
      </div>
  </div>
</div> -->
<ng-template #video>
    <mat-dialog-actions align="end">
        <button mat-icon-button aria-label="close dialog" mat-dialog-close>
            <mat-icon>close</mat-icon>
          </button>
      </mat-dialog-actions>
    <iframe width="1000" class="pt-10" height="500" src="/assets/instances/space/videos/intro_video.mp4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</ng-template>