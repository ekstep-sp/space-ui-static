<ng-container style="margin-top: -1.2rem;" (click)="$event.stopPropagation()">
  <ng-container *ngIf="featuredWidget.name !== 'Contribute' && featuredWidget.show === true && featuredWidget.expand === true">
    <mat-accordion #accordion='matAccordion' class="expansion-panel-color" (click)="maintainPropagation($event)" multi="false">
      <mat-expansion-panel [expanded]="!!expand">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <ng-container *ngIf="featuredWidget.name !== 'Admin'" [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{
                    iconType: featuredWidget.iconType,
                    icon: featuredWidget.icon,
                    scale: 1.7,
                    color: featuredWidget.color,
                    innerSpan: false
                  }">
            </ng-container>
            <span *ngIf="featuredWidget.name !== 'Admin'" class="ml-5 text-center">
              {{featuredWidget.name}}</span>
            <ng-container *ngIf="featuredWidget.name === 'Admin'">
              <img class="matdark mat-icon admin-image-black" src="/assets/instances/space/admin_panal_icon/admin_panel_settings-black.svg">
              <img class="matdark mat-icon admin-image-white" src="/assets/instances/space/admin_panal_icon/admin_panel_settings-white.svg">
              <span class="ml-5 text-center admin-panel"> {{featuredWidget.name}}</span>
            </ng-container>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <ng-container *ngFor="let group of featuredWidget.featureWidgets">
          <div *ngIf="group.widgetData.actionBtn.show">
            <div [ngSwitch]="group.widgetData.config.type">
              <div *ngSwitchCase="displayType.featureItem">
                <ng-container [ngTemplateOutlet]="featureItem" [ngTemplateOutletContext]="group.widgetData">
                </ng-container>
              </div>
            </div>
          </div>
        </ng-container>
      </mat-expansion-panel>
    </mat-accordion>
  </ng-container>
  <ng-container *ngIf="featuredWidget.name === 'Contribute' && featuredWidget.show === true && featuredWidget.expand === true">
    <mat-accordion #accordion='matAccordion' class="expansion-panel-color isVisible" (click)="maintainPropagation($event)">
      <mat-expansion-panel [expanded]="!!expand">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <ng-container *ngIf="featuredWidget.name !== 'Admin'" [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{
                      iconType: featuredWidget.iconType,
                      icon: featuredWidget.icon,
                      scale: 1.7,
                      color: featuredWidget.color
                    }">
            </ng-container>
            <span *ngIf="featuredWidget.name !== 'Admin'" class="ml-5 text-center">
              {{featuredWidget.name}}</span>
            <ng-container *ngIf="featuredWidget.name === 'Admin'">
              <img class="matdark mat-icon admin-image-black" src="/assets/instances/space/admin_panal_icon/admin_panel_settings-black.svg">
              <img class="matdark mat-icon admin-image-white" src="/assets/instances/space/admin_panal_icon/admin_panel_settings-white.svg">
              <span class="ml-5 text-center admin-panel"> {{featuredWidget.name}}</span>
            </ng-container>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <ng-container *ngFor="let group of featuredWidget.featureWidgets">
          <div *ngIf="group.widgetData.actionBtn.show">
            <div [ngSwitch]="group.widgetData.config.type">
              <div *ngSwitchCase="displayType.featureItem">
                <ng-container [ngTemplateOutlet]="featureItem" [ngTemplateOutletContext]="group.widgetData">
                </ng-container>
              </div>
            </div>
          </div>
        </ng-container>
      </mat-expansion-panel>
    </mat-accordion>
  </ng-container>
  <ng-container *ngIf="featuredWidget.name !== 'Admin'  && featuredWidget.expand === false">
    <a class="text-center block a-tag" (click)="navigate(featuredWidget.url,$event)" mat-button [disableRipple]="true">
      <span class="flex-design">
        <ng-container [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{
                        iconType: featuredWidget.iconType,
                        icon: featuredWidget.icon,
                        scale: 1.7,
                        widget: featuredWidget.name,
                        color: featuredWidget.color,
                        innerSpan: false
                      }"></ng-container>
        <span class="ml-5 text-center text"> {{featuredWidget.name}}</span>
      </span>
    </a>
  </ng-container>
</ng-container>
<ng-template #featureItem let-actionBtn="actionBtn" let-config="config">
  <div class="relative py-2 innerSpan" id="{{actionBtn?.id}}" [ngClass]="{
      'rounded h-full box-sizing-box': config?.treatAsCard,
      greyOut: actionBtn.greyOut
    }" (click)="navigate(actionBtn.url,$event)">
    <a class="text-center block" (click)="navigate(actionBtn.url,$event)" mat-flat-button [disableRipple]="true" class="innerSpan">
      <ng-container [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{
          iconType: actionBtn.iconType,
          icon: actionBtn.icon,
          scale: 1.7,
          color: actionBtn.color,
          innerSpan: true
        }"></ng-container>
      <span class="ml-5 text-center innerSpan" *ngIf="!config.useShortName">{{ actionBtn.name }}</span>
      <span class="ml-5 text-center" *ngIf="config.useShortName">
        {{ actionBtn.shortName }}
      </span>
    </a>
  </div>
</ng-template>
<ng-template #icon let-iconType="iconType" let-innerSpan="innerSpan" let-widget="widget" let-icon="icon" let-scale="scale" let-color="color">
  <ng-container>
    <mat-icon class="matdark material-icons-outlined" *ngIf="iconType === 'mat-icon' && widget !== 'Profile' && widget !== 'Settings'"
    [ngClass]="{'innerSpan' : !!innerSpan}"
      aria-hidden="false" [color]="color" [ngStyle]="
        scale
          ? {
              'font-size': scale * defaultIconSize + 'px',
              height: scale * defaultIconSize + 'px',
              width: scale * defaultIconSize + 'px'
            }
          : {}
      ">
      {{ icon }}
    </mat-icon>
    <mat-icon class="line matdark material-icons-outlined" *ngIf="iconType === 'mat-icon' && widget === 'Profile'" aria-hidden="false"
      [color]="color" [ngStyle]="
              scale
                ? {
                    'font-size': scale * defaultIconSize + 'px',
                    height: scale * defaultIconSize + 'px',
                    width: scale * defaultIconSize + 'px'
                  }
                : {}
            ">
      {{ icon }}
    </mat-icon>
    <mat-icon class="line matdark material-icons-outlined" *ngIf="iconType === 'mat-icon'  && widget === 'Settings'" aria-hidden="false"
      [color]="color" [ngStyle]="
                  scale
                    ? {
                        'font-size': scale * defaultIconSize + 'px',
                        height: scale * defaultIconSize + 'px',
                        width: scale * defaultIconSize + 'px'
                      }
                    : {}
                ">
      {{ icon }}
    </mat-icon>
  </ng-container>
  <img class="feature-icon-img" [ngStyle]="
      scale
        ? {
            height: scale * defaultIconSize + 'px',
            width: scale * defaultIconSize + 'px'
          }
        : {}
    " *ngIf="iconType === 'url'" [src]="icon" i18n-alt alt="icon" />
</ng-template>