<mat-toolbar [color]="pageNavbar.color">
    <ws-widget-btn-page-back [widgetData]="{ url: '/page/home' }"></ws-widget-btn-page-back>

    <span class="margin-left-xs text-truncate span-class">
        <span class="visible-xs-inline nav-bar-style" i18n>People</span>
    </span>

    <div class="search-container">
        <ng-container>
            <label class="expandSearchGroup">
                <mat-icon matPrefix class="searchIcon" (click)="triggerGlobalSearch()">search</mat-icon>
                <input class="forms-control" (keyup.enter)="triggerGlobalSearch()" type="text"
                    placeholder="Search Users" name="search" [formControl]="globalSearch">
            </label>
        </ng-container>
    </div>
    <!-- for search bar in  mobile view -->
    <ng-container *ngIf="(isXSmall$ | async) === true">
        <div class="maticonallign">
            <button mat-icon-button (click)="showSearchBar()">
                <mat-icon class="text-color">search</mat-icon>
            </button>
        </div>
    </ng-container>

</mat-toolbar>
<!-- for search bar in  mobile view -->
<section class="blogs-container">
    <div *ngIf="(isXSmall$ | async) === true" class="flex">
        <mat-card class="card-container" *ngIf="isEnabledSearch === true">
            <div class="flex">

                <div>
                    <ng-container>
                        <label class="expandSearchGroupMobile">

                            <mat-icon class="searchIconMobile">search</mat-icon>
                            <input class="forms-control-mobile" type="text" placeholder="Search Users" name="search"
                                [formControl]="globalSearch">
                        </label>
                    </ng-container>
                </div>

                <div class="align-icon">
                    <button mat-icon-button (click)="disableSearchbar()">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
            </div>
        </mat-card>
    </div>

</section>




<div infiniteScroll [infiniteScrollDistance]="scrollDistance" [infiniteScrollThrottle]="scrollThrottle"
    (scrolled)="onScroll($event)"
    class="scroll-infinite w-100 h-100 flex flex-row flex-wrap justify-center parent-card-container">
    <ng-container *ngIf="!(error$ | async)">
        <ng-container *ngIf="(isApiLoading$ | async); else cardTemplate">
            Loading...
        </ng-container>
    </ng-container>
    <div class="flat-error-alert" *ngIf="(error$ | async)">
        Error occured while fetching data
    </div>

</div>
<div *ngIf="isLoad">
    <mat-spinner class="spinner" color="primary"></mat-spinner>
</div>
<div class="alertmsg">
    <div class="flat-no-data-alert flex flex-row" *ngIf="(isDataFinished$ | async)">
        Data has finished
    </div>
</div>
<ng-template #cardTemplate>
    <ng-container *ngFor="let card of (apiData$ | async)">
        <ws-public-userlist [userData]=card></ws-public-userlist>
    </ng-container>
</ng-template>